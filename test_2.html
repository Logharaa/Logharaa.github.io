<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>JS avancé</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <header>
        <h1>JS avancé</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Accueil</a></li>
        </ul>
    </nav>

    <main>
        <article>
            <div id="animatedElem" style="position:relative;width:100px;height:100px;background-color:#f00;left:500px"></div>
        </article>
    </main>

    <footer>
        <p>© 2020 Gaël Meheust - Tous droits réservés.</p>
    </footer>

    <script type="text/javascript">

        const elem = document.getElementById("animatedElem");
        const frameTime = 1000 / 60;
        let lastUpdate = Date.now();
        let left = 500;
        let timer = setInterval(tick, 16);

        function tick()
        {
            let now = Date.now();
            let deltaTime = now - lastUpdate;
            lastUpdate = now;

            elem.style.left = (left -= 10 * deltaTime / 20) + "px";

            if (left <= 0) {
                clearInterval(timer);
            }
        }

        function pausecomp(millis)
		{
			var date = new Date();
			var curDate = null;
			do { 
				curDate = new Date(); 
			} while(curDate-date < millis);
		}

        window.addEventListener("load", tick);

    </script>

</body>

</html>