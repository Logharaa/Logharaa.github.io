<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>JS avancé</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <header>
        <h1>JS avancé</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Accueil</a></li>
        </ul>
    </nav>

    <main>
        <article>
            <canvas id="myCanvas" width="1000" height="500"></canvas>
        </article>
    </main>

    <footer>
        <p>© 2020 Gaël Meheust - Tous droits réservés.</p>
    </footer>

    <script type="text/javascript">

        let animFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || null;
        if (animFrame === null) {
            alert("Impossible d'utiliser requestAnimationFrame (animFrame === null)");
        }

        const canvas = document.getElementById("myCanvas");
        canvas.addEventListener("keydown", keyPressed, true);
        const canvasContext = canvas.getContext("2d");

        function mainLoop()
        {
            updateGame();
            drawGame();
        }

        function updateGame()
        {

        }

        function drawGame()
        {

        }

        function keyPressed(event)
        {
            event.preventDefault();

            if (event.keyCode == 37) {
                console.log("←");
            }

            if (event.keyCode === 38) {
                console.log("↑");
            }

            if (event.keyCode === 39) {
                console.log("→");
            }

            if (event.keyCode === 40) {
                console.log("↓");
            }
        }

        function recursiveAnim()
        {
            mainLoop();

            animFrame(recursiveAnim);
        }

        //window.addEventListener("load", recursiveAnim);
    </script>

</body>

</html>