<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>JS</title>
    <link rel="stylesheet" type="text/css" href="../style.css">

    <script type="text/javascript">
        function rectangle(x, y, w, h, canvas) {
            this.canvas = canvas;
            this.canvas2dContext = this.canvas.getContext("2d");
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.affiche = affiche;
        }

        function affiche() {
            this.canvas2dContext.rect(this.x, this.y, this.w, this.h);
            this.canvas2dContext.fillStyle = "red";
            this.canvas2dContext.fill();
        }

        function init() {
            canvas = document.getElementById("myCanvas");
            rectangle1 = new rectangle(0, 0, 100, 100, canvas);
            rectangle1.affiche();

            let intervalID = setInterval(function() {
                rectangle1.x += 10;
                rectangle1.canvas2dContext.clearRect(0, 0, 1000, 200);
                rectangle1.affiche();
                console.log("test");
            }, 100);
        }

        //window.addEventListener('load', init());
    </script>
</head>

<body onload="init()">
    <header>
        <h1>JS</h1>
    </header>

    <nav>
        <ul>
            <li><a href="js_tp1.html">TP1</a></li>
            <li><a href="js_tp2.html">TP2</a></li>
            <li><a href="../index.html">Accueil</a></li>
        </ul>
    </nav>

    <main>
        <article>
            <canvas id="myCanvas" width="1000" height="200"></canvas>
        </article>
    </main>

    <footer>
        <p>© 2020 Gaël Meheust - Tous droits réservés.</p>
    </footer>

</body>

</html>